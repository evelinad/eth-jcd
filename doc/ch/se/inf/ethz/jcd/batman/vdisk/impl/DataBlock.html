<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_17) on Mon May 13 17:37:18 CEST 2013 -->
<title>DataBlock</title>
<meta name="date" content="2013-05-13">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataBlock";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataBlock.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/FreeBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html" target="_top">Frames</a></li>
<li><a href="DataBlock.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ch.se.inf.ethz.jcd.batman.vdisk.impl</div>
<h2 title="Class DataBlock" class="title">Class DataBlock</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl">ch.se.inf.ethz.jcd.batman.vdisk.impl.VirtualBlock</a></li>
<li>
<ul class="inheritance">
<li>ch.se.inf.ethz.jcd.batman.vdisk.impl.DataBlock</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualBlock</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">DataBlock</span>
extends <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl">VirtualBlock</a>
implements <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></pre>
<div class="block">Implementation of <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk"><code>IDataBlock</code></a>.
 
 The data blocks are stored as a linked list and each data block has a pointer
 to the next block in the list.
 
 The blocks need at 32 byte to store the meta data the rest can be used for
 the data. The structure of the block is as follows: 0x00 8 byte size and
 indicator for data block 0x08 8 byte offset of the next data block in the
 list 0x10 8 number of bytes in the data block which are used for data
 (maximum of data block size - meta data size) 0xnn n data end 8 byte size and
 indicator for data block</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk"><code>IVirtualBlock</code></a>, 
<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk"><code>IDataBlock</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#DATA_LENGTH_SIZE">DATA_LENGTH_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#dataSize">dataSize</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#METADATA_END_SIZE">METADATA_END_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#METADATA_SIZE">METADATA_SIZE</a></strong></code>
<div class="block">The amount of bytes needed to store the meta data of the data block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#METADATA_START_SIZE">METADATA_START_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#MIN_BLOCK_SIZE">MIN_BLOCK_SIZE</a></strong></code>
<div class="block">The size of the smallest possible data block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#next">next</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#NEXT_SIZE">NEXT_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#valid">valid</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_ch.se.inf.ethz.jcd.batman.vdisk.impl.VirtualBlock">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;ch.se.inf.ethz.jcd.batman.vdisk.impl.<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl">VirtualBlock</a></h3>
<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#BLOCK_LENGTH_SIZE">BLOCK_LENGTH_SIZE</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#BYTE_LENGTH">BYTE_LENGTH</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#LONG_LENGTH">LONG_LENGTH</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#DataBlock(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long, long, long, long)">DataBlock</a></strong>(<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualDisk.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualDisk</a>&nbsp;disk,
         long&nbsp;position,
         long&nbsp;size,
         long&nbsp;dataSize,
         long&nbsp;next)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#checkDataRange(long, int)">checkDataRange</a></strong>(long&nbsp;pos,
              int&nbsp;length)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#checkValidTrue()">checkValidTrue</a></strong>()</code>
<div class="block">Throws a <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/VirtualDiskException.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk"><code>VirtualDiskException</code></a> if the status is not valid.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#create(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long, long, long, long)">create</a></strong>(<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualDisk.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualDisk</a>&nbsp;disk,
      long&nbsp;position,
      long&nbsp;size,
      long&nbsp;dataSize,
      long&nbsp;next)</code>
<div class="block">Creates a data block at the given offset position.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#free()">free</a></strong>()</code>
<div class="block">Frees this data blocks on the virtual disk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#getDataSize()">getDataSize</a></strong>()</code>
<div class="block">Returns the size in bytes of the saved data inside the block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#getFreeSize()">getFreeSize</a></strong>()</code>
<div class="block">Returns the size in bytes that is available for data inside the block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#getMaxDataSize()">getMaxDataSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#getNextBlock()">getNextBlock</a></strong>()</code>
<div class="block">Returns the address of the next block referenced by the current one.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#isValid()">isValid</a></strong>()</code>
<div class="block">Returns if the data block is currently valid, or if it has already been
 freed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#load(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">load</a></strong>(<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualDisk.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualDisk</a>&nbsp;disk,
    long&nbsp;position)</code>
<div class="block">Loads the data block stored at the offset position given by position.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#read(long)">read</a></strong>(long&nbsp;pos)</code>
<div class="block">Reads one byte of data starting at the given position pos.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#read(long, byte[])">read</a></strong>(long&nbsp;pos,
    byte[]&nbsp;data)</code>
<div class="block">Reads the data bytes starting at the given position pos until the
 provided byte array b is full.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#read(long, byte[], int, int)">read</a></strong>(long&nbsp;pos,
    byte[]&nbsp;data,
    int&nbsp;offset,
    int&nbsp;length)</code>
<div class="block">Reads data bytes of length <i>length</i> starting at the given position
 pos.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#readLong(long)">readLong</a></strong>(long&nbsp;pos)</code>
<div class="block">Reads a long starting at the provided position pos.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#readMetadata()">readMetadata</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#setDataSize(long)">setDataSize</a></strong>(long&nbsp;size)</code>
<div class="block">Changes the size of the data inside the block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#setMetaFlagsOnSize(long)">setMetaFlagsOnSize</a></strong>(long&nbsp;size)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#setNextBlock(long)">setNextBlock</a></strong>(long&nbsp;nextBlock)</code>
<div class="block">Sets the address of the next block referenced by the current one.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#updateDataSize()">updateDataSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#updateMetadata()">updateMetadata</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#updateNextBlock()">updateNextBlock</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#write(long, byte)">write</a></strong>(long&nbsp;pos,
     byte&nbsp;data)</code>
<div class="block">Writes the content of the provided byte b at position pos.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#write(long, byte[])">write</a></strong>(long&nbsp;pos,
     byte[]&nbsp;data)</code>
<div class="block">Writes the content of the provided byte array b into the data block at
 the given position pos.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#write(long, byte[], int, int)">write</a></strong>(long&nbsp;pos,
     byte[]&nbsp;b,
     int&nbsp;offset,
     int&nbsp;length)</code>
<div class="block">Writes the given bytes inside the byte array b into the block starting at
 the provided position pos.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#writeLong(long, long)">writeLong</a></strong>(long&nbsp;pos,
         long&nbsp;data)</code>
<div class="block">Writes a long value l at the given position pos.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_ch.se.inf.ethz.jcd.batman.vdisk.impl.VirtualBlock">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;ch.se.inf.ethz.jcd.batman.vdisk.impl.<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl">VirtualBlock</a></h3>
<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#checkIfNextFree(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">checkIfNextFree</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#checkIfPreviousFree(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">checkIfPreviousFree</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#getBlockPosition()">getBlockPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#getDisk()">getDisk</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#getDiskSize()">getDiskSize</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#getSizeOfNextBlock(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">getSizeOfNextBlock</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#getSizeOfPreviousBlock(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">getSizeOfPreviousBlock</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#loadBlock(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">loadBlock</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#loadNextBlock(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">loadNextBlock</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#loadPreviousBlock(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">loadPreviousBlock</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#readLongRealPosition(long)">readLongRealPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#readRealPosition(long)">readRealPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#readRealPosition(long, byte[])">readRealPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#readRealPosition(long, byte[], int, int)">readRealPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#setAllocatedFlag(long, boolean)">setAllocatedFlag</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#updateDiskSize()">updateDiskSize</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#writeRealPosition(long, byte)">writeRealPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#writeRealPosition(long, byte[])">writeRealPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#writeRealPosition(long, byte[], int, int)">writeRealPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#writeRealPosition(long, long)">writeRealPosition</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_ch.se.inf.ethz.jcd.batman.vdisk.IVirtualBlock">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;ch.se.inf.ethz.jcd.batman.vdisk.<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualBlock</a></h3>
<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualBlock.html#getBlockPosition()">getBlockPosition</a>, <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualBlock.html#getDiskSize()">getDiskSize</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NEXT_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NEXT_SIZE</h4>
<pre>private static final&nbsp;long NEXT_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../constant-values.html#ch.se.inf.ethz.jcd.batman.vdisk.impl.DataBlock.NEXT_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DATA_LENGTH_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DATA_LENGTH_SIZE</h4>
<pre>private static final&nbsp;long DATA_LENGTH_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../constant-values.html#ch.se.inf.ethz.jcd.batman.vdisk.impl.DataBlock.DATA_LENGTH_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="METADATA_START_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>METADATA_START_SIZE</h4>
<pre>private static final&nbsp;long METADATA_START_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../constant-values.html#ch.se.inf.ethz.jcd.batman.vdisk.impl.DataBlock.METADATA_START_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="METADATA_END_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>METADATA_END_SIZE</h4>
<pre>private static final&nbsp;long METADATA_END_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../constant-values.html#ch.se.inf.ethz.jcd.batman.vdisk.impl.DataBlock.METADATA_END_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="METADATA_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>METADATA_SIZE</h4>
<pre>public static final&nbsp;long METADATA_SIZE</pre>
<div class="block">The amount of bytes needed to store the meta data of the data block.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../constant-values.html#ch.se.inf.ethz.jcd.batman.vdisk.impl.DataBlock.METADATA_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MIN_BLOCK_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_BLOCK_SIZE</h4>
<pre>public static final&nbsp;long MIN_BLOCK_SIZE</pre>
<div class="block">The size of the smallest possible data block.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../constant-values.html#ch.se.inf.ethz.jcd.batman.vdisk.impl.DataBlock.MIN_BLOCK_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="next">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>private transient&nbsp;long next</pre>
</li>
</ul>
<a name="dataSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataSize</h4>
<pre>private&nbsp;long dataSize</pre>
</li>
</ul>
<a name="valid">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>valid</h4>
<pre>private&nbsp;boolean valid</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataBlock(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long, long, long, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataBlock</h4>
<pre>private&nbsp;DataBlock(<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualDisk.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualDisk</a>&nbsp;disk,
         long&nbsp;position,
         long&nbsp;size,
         long&nbsp;dataSize,
         long&nbsp;next)
           throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="load(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public static&nbsp;<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a>&nbsp;load(<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualDisk.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualDisk</a>&nbsp;disk,
              long&nbsp;position)
                       throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Loads the data block stored at the offset position given by position.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>disk</code> - the disk on which the block is stored</dd><dd><code>position</code> - the offset position in bytes of the block</dd>
<dt><span class="strong">Returns:</span></dt><dd>the loaded block</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the block at the given position is invalid or if an I/O
             error occurs</dd></dl>
</li>
</ul>
<a name="create(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long, long, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a>&nbsp;create(<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualDisk.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IVirtualDisk</a>&nbsp;disk,
                long&nbsp;position,
                long&nbsp;size,
                long&nbsp;dataSize,
                long&nbsp;next)
                         throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a data block at the given offset position.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>disk</code> - the disk on which the block is created</dd><dd><code>position</code> - the offset position in bytes of the block</dd><dd><code>size</code> - the size of the newly created block</dd><dd><code>dataSize</code> - the size in the block which can be used to store data</dd><dd><code>next</code> - the offset position of the next block in the list</dd>
<dt><span class="strong">Returns:</span></dt><dd>the created block</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="readMetadata()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMetadata</h4>
<pre>protected&nbsp;void&nbsp;readMetadata()
                     throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#readMetadata()">readMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl">VirtualBlock</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="updateMetadata()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMetadata</h4>
<pre>protected&nbsp;void&nbsp;updateMetadata()
                       throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#updateMetadata()">updateMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl">VirtualBlock</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="updateNextBlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNextBlock</h4>
<pre>private&nbsp;void&nbsp;updateNextBlock()
                      throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="updateDataSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDataSize</h4>
<pre>private&nbsp;void&nbsp;updateDataSize()
                     throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="checkDataRange(long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDataRange</h4>
<pre>private&nbsp;void&nbsp;checkDataRange(long&nbsp;pos,
                  int&nbsp;length)</pre>
</li>
</ul>
<a name="write(long, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(long&nbsp;pos,
         byte&nbsp;data)
           throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes the content of the provided byte b at position pos.
 
 The position is relative to the beginning of the block. Therefore
 position 0 is the first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#write(long, byte)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position to write the byte into</dd><dd><code>data</code> - the byte to write at position pos</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="write(long, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(long&nbsp;pos,
         byte[]&nbsp;data)
           throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes the content of the provided byte array b into the data block at
 the given position pos.
 
 The position is relative to the beginning of the block. Therefore
 position 0 is the first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#write(long, byte[])">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position at which to start writing the content of b</dd><dd><code>data</code> - the data to write from position pos</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="writeLong(long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLong</h4>
<pre>public&nbsp;void&nbsp;writeLong(long&nbsp;pos,
             long&nbsp;data)
               throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes a long value l at the given position pos.
 
 The position is relative to the beginning of the block. Therefore
 position 0 is the first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#writeLong(long, long)">writeLong</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position at which the long l should be written</dd><dd><code>data</code> - the value to be written at position pos</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="read(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;byte&nbsp;read(long&nbsp;pos)
          throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Reads one byte of data starting at the given position pos.
 
 The position is relative to the beginning of the block. Therefore
 position 0 is the first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#read(long)">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position of the byte to be read</dd>
<dt><span class="strong">Returns:</span></dt><dd>the read byte at position pos</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="read(long, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read(long&nbsp;pos,
       byte[]&nbsp;data)
         throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Reads the data bytes starting at the given position pos until the
 provided byte array b is full.
 
 The position is relative to the beginning of the block. Therefore
 position 0 is the first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#read(long, byte[])">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position to start reading from</dd><dd><code>data</code> - byte array to fill the read bytes into</dd>
<dt><span class="strong">Returns:</span></dt><dd>the amount of read bytes</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="readLong(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLong</h4>
<pre>public&nbsp;long&nbsp;readLong(long&nbsp;pos)
              throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Reads a long starting at the provided position pos.
 
 The position is relative to the beginning of the block. Position 0 is the
 first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#readLong(long)">readLong</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position to start reading the long</dd>
<dt><span class="strong">Returns:</span></dt><dd>the read long value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="getNextBlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextBlock</h4>
<pre>public&nbsp;long&nbsp;getNextBlock()</pre>
<div class="block">Returns the address of the next block referenced by the current one.
 
 The address (location) is relative to the beginning of the underlying
 virtual disk. Therefore position 0 is the first byte of the disk itself.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#getNextBlock()">getNextBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the address of the next block.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html#load(ch.se.inf.ethz.jcd.batman.vdisk.IVirtualDisk, long)"><code>load(IVirtualDisk,
      long)</code></a></dd></dl>
</li>
</ul>
<a name="getDataSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataSize</h4>
<pre>public&nbsp;long&nbsp;getDataSize()</pre>
<div class="block">Returns the size in bytes of the saved data inside the block. This does
 not correspond to the size of the block on the disk.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#getDataSize()">getDataSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the size in bytes of data saved inside the block.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#setDataSize(long)"><code>IDataBlock.setDataSize(long)</code></a>, 
<a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IVirtualBlock.html#getDiskSize()"><code>IVirtualBlock.getDiskSize()</code></a></dd></dl>
</li>
</ul>
<a name="getMaxDataSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxDataSize</h4>
<pre>private&nbsp;long&nbsp;getMaxDataSize()</pre>
</li>
</ul>
<a name="getFreeSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFreeSize</h4>
<pre>public&nbsp;long&nbsp;getFreeSize()</pre>
<div class="block">Returns the size in bytes that is available for data inside the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#getFreeSize()">getFreeSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the size in bytes that is available for data.</dd></dl>
</li>
</ul>
<a name="setDataSize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataSize</h4>
<pre>public&nbsp;void&nbsp;setDataSize(long&nbsp;size)
                 throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Changes the size of the data inside the block. This can be used to
 allocate more space for data or to shrink the space.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#setDataSize(long)">setDataSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="write(long, byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(long&nbsp;pos,
         byte[]&nbsp;b,
         int&nbsp;offset,
         int&nbsp;length)
           throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes the given bytes inside the byte array b into the block starting at
 the provided position pos.
 
 The offset and length specify which part of the given byte array b will
 be written into the block.
 
 Position pos is relative to the start of the block. Therefore position 0
 would be the first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#write(long, byte[], int, int)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - the position to start writing the data into</dd><dd><code>b</code> - a byte array containing data to write</dd><dd><code>offset</code> - the index of the first byte to use from the byte array b</dd><dd><code>length</code> - the amount of bytes to write using the given byte array b</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="read(long, byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read(long&nbsp;pos,
       byte[]&nbsp;data,
       int&nbsp;offset,
       int&nbsp;length)
         throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Reads data bytes of length <i>length</i> starting at the given position
 pos.
 
 The read data is written into the provided byte array b starting at the
 index provided by the offset.
 
 The position is relative to the beginning of the block. Therefore
 position 0 is the first byte of the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#read(long, byte[], int, int)">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position to start reading from</dd><dd><code>data</code> - the byte array to write the read data into</dd><dd><code>offset</code> - the index at which to start writing into the byte array b</dd><dd><code>length</code> - the amount of bytes to read</dd>
<dt><span class="strong">Returns:</span></dt><dd>the amount of bytes read</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="setNextBlock(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNextBlock</h4>
<pre>public&nbsp;void&nbsp;setNextBlock(long&nbsp;nextBlock)
                  throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Sets the address of the next block referenced by the current one.
 
 The address (location) is relative to the beginning of the underlying
 virtual disk. Therefore position 0 is the first byte of the disk itself.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#setNextBlock(long)">setNextBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>nextBlock</code> - the address of the next block.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#getNextBlock()"><code>IDataBlock.getNextBlock()</code></a></dd></dl>
</li>
</ul>
<a name="setMetaFlagsOnSize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMetaFlagsOnSize</h4>
<pre>protected&nbsp;long&nbsp;setMetaFlagsOnSize(long&nbsp;size)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html#setMetaFlagsOnSize(long)">setMetaFlagsOnSize</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/VirtualBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl">VirtualBlock</a></code></dd>
</dl>
</li>
</ul>
<a name="checkValidTrue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkValidTrue</h4>
<pre>private&nbsp;void&nbsp;checkValidTrue()
                     throws <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/VirtualDiskException.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk">VirtualDiskException</a></pre>
<div class="block">Throws a <a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/VirtualDiskException.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk"><code>VirtualDiskException</code></a> if the status is not valid.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/VirtualDiskException.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk">VirtualDiskException</a></code> - if the status is not valid</dd></dl>
</li>
</ul>
<a name="isValid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValid</h4>
<pre>public&nbsp;boolean&nbsp;isValid()</pre>
<div class="block">Returns if the data block is currently valid, or if it has already been
 freed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#isValid()">isValid</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true if its still valid</dd></dl>
</li>
</ul>
<a name="free()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>free</h4>
<pre>public&nbsp;void&nbsp;free()
          throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Frees this data blocks on the virtual disk. After freeing the data block
 it can't be used and it's status is invalid.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html#free()">free</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/IDataBlock.html" title="interface in ch.se.inf.ethz.jcd.batman.vdisk">IDataBlock</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataBlock.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../../../ch/se/inf/ethz/jcd/batman/vdisk/impl/FreeBlock.html" title="class in ch.se.inf.ethz.jcd.batman.vdisk.impl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?ch/se/inf/ethz/jcd/batman/vdisk/impl/DataBlock.html" target="_top">Frames</a></li>
<li><a href="DataBlock.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
